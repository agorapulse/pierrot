<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content="Vladimir Orany">
<title>Pierrot the PR Pilot</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
<link rel="manifest" href="images/site.webmanifest">
<style>
.hidden {
    display: none;
}

.switch {
    border-width: 1px 1px 0 1px;
    border-style: solid;
    border-color: #7a2518;
    display: inline-block;
}

.switch--item {
    padding: 10px;
    background-color: #ffffff;
    color: #7a2518;
    display: inline-block;
    cursor: pointer;
}

.switch--item.selected {
    background-color: #7a2519;
    color: #ffffff;
}

</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js"></script>
<script type="text/javascript">
function addBlockSwitches() {
    $('.primary').each(function() {
        primary = $(this);
        createSwitchItem(primary, createBlockSwitch(primary)).item.addClass("selected");
        primary.children('.title').remove();
    });
    $('.secondary').each(function(idx, node) {
        secondary = $(node);
        primary = findPrimary(secondary);
        switchItem = createSwitchItem(secondary, primary.children('.switch'));
        switchItem.content.addClass('hidden');
        findPrimary(secondary).append(switchItem.content);
        secondary.remove();
    });
}

function createBlockSwitch(primary) {
    blockSwitch = $('<div class="switch"></div>');
    primary.prepend(blockSwitch);
    return blockSwitch;
}

function findPrimary(secondary) {
    candidate = secondary.prev();
    while (!candidate.is('.primary')) {
        candidate = candidate.prev();
    }
    return candidate;
}

function createSwitchItem(block, blockSwitch) {
    blockName = block.children('.title').text();
    content = block.children('.content').first().append(block.next('.colist'));
    item = $('<div class="switch--item">' + blockName + '</div>');
    item.on('click', '', content, function(e) {
        $(this).addClass('selected');
        $(this).siblings().removeClass('selected');
        e.data.siblings('.content').addClass('hidden');
        e.data.removeClass('hidden');
    });
    blockSwitch.append(item);
    return {'item': item, 'content': content};
}

$(addBlockSwitches);

</script>

</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Pierrot the PR Pilot</h1>
<div class="details">
<span id="author" class="author">Vladimir Orany</span><br>
<span id="revnumber">version 0.9.0</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a></li>
<li><a href="#_installation">2. Installation</a></li>
<li><a href="#_usage">3. Usage</a>
<ul class="sectlevel2">
<li><a href="#_common_parameters">3.1. Common Parameters</a>
<ul class="sectlevel3">
<li><a href="#_shared_parameters">3.1.1. Shared Parameters</a></li>
<li><a href="#_search_parameters">3.1.2. Search Parameters</a></li>
<li><a href="#_pull_request_parameters">3.1.3. Pull Request Parameters</a></li>
<li><a href="#_project_parameters">3.1.4. Project Parameters</a></li>
<li><a href="#_workspace_parameter">3.1.5. Workspace Parameter</a></li>
</ul>
</li>
<li><a href="#_commands">3.2. Commands</a>
<ul class="sectlevel3">
<li><a href="#_search">3.2.1. Search Command</a>
<ul class="sectlevel4">
<li><a href="#_examples">Examples</a></li>
<li><a href="#_full_syntax">Full Syntax</a></li>
</ul>
</li>
<li><a href="#_create">3.2.2. Create Command</a>
<ul class="sectlevel4">
<li><a href="#_examples_2">Examples</a></li>
<li><a href="#_full_syntax_2">Full Syntax</a></li>
</ul>
</li>
<li><a href="#_delete">3.2.3. Delete Command</a>
<ul class="sectlevel4">
<li><a href="#_examples_3">Examples</a></li>
<li><a href="#_full_syntax_3">Full Syntax</a></li>
</ul>
</li>
<li><a href="#_pull">3.2.4. Pull Command</a>
<ul class="sectlevel4">
<li><a href="#_examples_4">Examples</a></li>
<li><a href="#_full_syntax_4">Full Syntax</a></li>
</ul>
</li>
<li><a href="#_push">3.2.5. Push Command</a>
<ul class="sectlevel4">
<li><a href="#_examples_5">Examples</a></li>
</ul>
</li>
<li><a href="#_replace">3.2.6. Replace Command</a>
<ul class="sectlevel4">
<li><a href="#_examples_6">Examples</a></li>
<li><a href="#_full_syntax_5">Full Syntax</a></li>
</ul>
</li>
<li><a href="#_status">3.2.7. Status Command</a>
<ul class="sectlevel4">
<li><a href="#_examples_7">Examples</a></li>
<li><a href="#_full_syntax_6">Full Syntax</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="images/pierrot.png" alt="pierrot" width="200" height="200">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Pierrot is a tool which helps you to manage many GitHub repositories with single command. The typical use cases are</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Upgrade the version of dependency or tool within the GitHub organization</p>
</li>
<li>
<p>Migrate deprecated code across many repositories</p>
</li>
<li>
<p>Batch create or delete files within the GitHub organization (license files, security documents)</p>
</li>
<li>
<p>Compare configuration files across many repositories (e.g. GitHub workflow files)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation"><a class="anchor" href="#_installation"></a>2. Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Download and extract <a href="https://github.com/agorapulse/micronaut-worker/releases/latest"> the latest binaries from the release page</a> and add the <code>bin</code> folder to your <code>PATH</code>
then you should see the following message when you run the <code>pierrot</code> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Unresolved directive in installation.adoc - include::/home/runner/work/pierrot/pierrot/apps/pierrot/src/test/resources/com/agorapulse/pierrot/PierrotCommandSpec/help-no-token.txt[]</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_usage"><a class="anchor" href="#_usage"></a>3. Usage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Pierrot provides various command to batch-manipulate code in the GitHub repositories. You can see the list
of available commands when you run the <code>pierrot</code> command without any parameters:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">Usage: pierrot [-hsV] [--github-token=&lt;token&gt;] [COMMAND]
The GitHub cross-repository governance tool
      --github-token=&lt;token&gt;
                     The GitHub token
  -h, --help         Show this help message and exit.
  -s, --stacktrace   Print stack traces
  -V, --version      Print version information and exit.
Commands:
  create   creates a file in a matching repositories and creates PRs
  delete   creates PRs to delete files
  pull     pulls the matching files locally
  push     pushes the the local changes and creates PRs
  replace  replaces content in the files and creates PRs
  search   searches GitHub and prints the matching files
  status   searches GitHub Pull Requests and prints their statuses</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pierrot requires being authenticated to GitHub. You can either set up <code>GITHUB_TOKEN</code> or pass the token as <code>--github-token</code> parameter.
Alternatively, see other authentication options in <a href="https://github-api.kohsuke.org">the GitHub API for Java documentation</a>.</p>
</div>
<div class="paragraph">
<p>All the commands are based on <a href="https://docs.github.com/en/search-github/getting-started-with-searching-on-github/understanding-the-search-syntax">GitHub search syntax</a>.
Pierrot works the best if you constrain the searches to an organization. If you don&#8217;t want to add <code>org:myorg</code> search
term to every command then set <code>GITHUB_ORGANIZATION</code> environment variable to the name of your organization.</p>
</div>
<div class="sect2">
<h3 id="_common_parameters"><a class="anchor" href="#_common_parameters"></a>3.1. Common Parameters</h3>
<div class="paragraph">
<p>The commands share common parameters depending on the action their perform.</p>
</div>
<div class="sect3">
<h4 id="_shared_parameters"><a class="anchor" href="#_shared_parameters"></a>3.1.1. Shared Parameters</h4>
<div class="paragraph">
<p>The following parameters can be use with any command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">      --github-token=&lt;token&gt; The GitHub token
  -h, --help                 Show this help message and exit.
  -s, --stacktrace           Print stack traces
  -V, --version              Print version information and exit.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_search_parameters"><a class="anchor" href="#_search_parameters"></a>3.1.2. Search Parameters</h4>
<div class="paragraph">
<p>Search parameters allows you to tune the search scope and pagination of the results.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">  -a, --all          Include archived and closed
  -g, --global       Do not constrain search to current organization
  -P, --no-page      Do not wait after each result</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_pull_request_parameters"><a class="anchor" href="#_pull_request_parameters"></a>3.1.3. Pull Request Parameters</h4>
<div class="paragraph">
<p>Pull request parameters will be used to create new pull requests in the affected repositories. If the values are not
provided in the form of command line argument then the user will be prompted to enter them first time they are requested.
The pull request message is also the message for the individual commits and can be also read from file using <code>--mesage-from</code> parameter.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">  -b, --branch=&lt;branch&gt;      The pull request branch
  -m, --message=&lt;message&gt;    The pull request message
      --message-from=&lt;messageFrom&gt;
  -t, --title=&lt;title&gt;        The pull request title</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_project_parameters"><a class="anchor" href="#_project_parameters"></a>3.1.4. Project Parameters</h4>
<div class="paragraph">
<p>The commands that can create pull request or searches pull requests such as <code>status</code> command can add the pull requests to the
GitHub Project (board) once <code>--project</code> parameter is provided. The other parameters are optional. The board is created if it does not exist
but the automation must be set up manually.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">      --done-column=&lt;doneColumn&gt;
                             The name of the 'Done' column in the project
      --progress-column=&lt;progressColumn&gt;
                             The name of the 'In progress' column in the project
      --project=&lt;project&gt;    The name of the project (board)
      --todo-column=&lt;todoColumn&gt;
                             The name of the 'To do' column in the project</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_workspace_parameter"><a class="anchor" href="#_workspace_parameter"></a>3.1.5. Workspace Parameter</h4>
<div class="paragraph">
<p>Command working with workspaces such as <code>pull</code> and <code>push</code> can point to a different directory then the current one that is the default one.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">  -w, --workspace=&lt;workspace&gt;
                     The working directory to pull found files</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_commands"><a class="anchor" href="#_commands"></a>3.2. Commands</h3>
<div class="sect3">
<h4 id="_search"><a class="anchor" href="#_search"></a>3.2.1. Search Command</h4>
<div class="paragraph">
<p>The <code>search</code> command allows to search GitHub using  <a href="https://docs.github.com/en/search-github/getting-started-with-searching-on-github/understanding-the-search-syntax">GitHub search syntax</a>.
You can experiment with the search term online at the <a href="https://github.com/search">GitHub Search Page</a>.
This is usually the first command you will run to verify the search terms.</p>
</div>
<div class="sect4">
<h5 id="_examples"><a class="anchor" href="#_examples"></a>Examples</h5>
<div class="listingblock">
<div class="title">Find All Usages of JCenter Repository within Gradle&#8217;s Build Files</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">pierrot search extension:gradle jcenter</code></pre>
</div>
</div>
<div class="paragraph">
<p>JCenter has been shut down so if you still have a references in the build files then you should remove them.</p>
</div>
</div>
<div class="sect4">
<h5 id="_full_syntax"><a class="anchor" href="#_full_syntax"></a>Full Syntax</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">Usage: pierrot search [-aghPsV] [--github-token=&lt;token&gt;] QUERY...
searches GitHub and prints the matching files
      QUERY...       The search term such as 'org:agorapulse filename:build.
                       gradle'
  -a, --all          Include archived and closed
  -g, --global       Do not constrain search to current organization
      --github-token=&lt;token&gt;
                     The GitHub token
  -h, --help         Show this help message and exit.
  -P, --no-page      Do not wait after each result
  -s, --stacktrace   Print stack traces
  -V, --version      Print version information and exit.</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_create"><a class="anchor" href="#_create"></a>3.2.2. Create Command</h4>
<div class="paragraph">
<p>The <code>create</code> command allows crate files in a repositories that contains files that matches a given search query.
You have to specify the <code>path</code> within the repository, and you need to specify the content either on the command line as <code>--content</code> parameter or
<code>--from</code> file. If the parameters are not provided then the user will be prompt for them.</p>
</div>
<div class="paragraph">
<p>New pull request are created with a specified changes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">  -c, --content=&lt;content&gt;    The inline content of the newly created file
      --from=&lt;contentFrom&gt;   The file to be uploaded to the repositories
  -p, --path=&lt;path&gt;          The path inside the repository</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_examples_2"><a class="anchor" href="#_examples_2"></a>Examples</h5>
<div class="listingblock">
<div class="title">Create AsciiDoc Configuration File for Better IntelliJ Support</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">pierrot create \
  --path=.asciidoctorconfig \
  --content=':root-dir: {asciidoctorconfigdir}' \
  --branch=chore/asciidoctorconfig \
  --title="Added AsciiDoc Config File" \
  --message="Added AsciiDoc configuration file for better support in IntelliJ" \
  extension:adoc</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="https://intellij-asciidoc-plugin.ahus1.de">AsciiDoc Plugin</a> can provide better support if you have <a href="https://intellij-asciidoc-plugin.ahus1.de/docs/users-guide/features/advanced/asciidoctorconfig-file.html"><code>.asciidoctorconfig</code> file</a> within your repository root.</p>
</div>
</div>
<div class="sect4">
<h5 id="_full_syntax_2"><a class="anchor" href="#_full_syntax_2"></a>Full Syntax</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">Usage: pierrot create [-aghPsV] [-b=&lt;branch&gt;] [-c=&lt;content&gt;]
                      [--done-column=&lt;doneColumn&gt;] [--from=&lt;contentFrom&gt;]
                      [--github-token=&lt;token&gt;] [-m=&lt;message&gt;]
                      [--message-from=&lt;messageFrom&gt;] [-p=&lt;path&gt;]
                      [--progress-column=&lt;progressColumn&gt;]
                      [--project=&lt;project&gt;] [-t=&lt;title&gt;]
                      [--todo-column=&lt;todoColumn&gt;] QUERY...
creates a file in a matching repositories and creates PRs
      QUERY...               The search term such as 'org:agorapulse filename:
                               build.gradle'
  -a, --all                  Include archived and closed
  -b, --branch=&lt;branch&gt;      The pull request branch
  -c, --content=&lt;content&gt;    The inline content of the newly created file
      --done-column=&lt;doneColumn&gt;
                             The name of the 'Done' column in the project
      --from=&lt;contentFrom&gt;   The file to be uploaded to the repositories
  -g, --global               Do not constrain search to current organization
      --github-token=&lt;token&gt; The GitHub token
  -h, --help                 Show this help message and exit.
  -m, --message=&lt;message&gt;    The pull request message
      --message-from=&lt;messageFrom&gt;
                             The file containing the pull request message
  -p, --path=&lt;path&gt;          The path inside the repository
  -P, --no-page              Do not wait after each result
      --progress-column=&lt;progressColumn&gt;
                             The name of the 'In progress' column in the project
      --project=&lt;project&gt;    The name of the project (board)
  -s, --stacktrace           Print stack traces
  -t, --title=&lt;title&gt;        The pull request title
      --todo-column=&lt;todoColumn&gt;
                             The name of the 'To do' column in the project
  -V, --version              Print version information and exit.</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_delete"><a class="anchor" href="#_delete"></a>3.2.3. Delete Command</h4>
<div class="paragraph">
<p>The <code>delete</code> command allows you to delete all files that match the given search query.</p>
</div>
<div class="paragraph">
<p>New pull request are created with a specified changes.</p>
</div>
<div class="sect4">
<h5 id="_examples_3"><a class="anchor" href="#_examples_3"></a>Examples</h5>
<div class="listingblock">
<div class="title">Delete All Travis CI Configuration File</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">pierrot delete \
  --branch=chore/remove-travis \
  --title="Remove Travis CI Config File" \
  --message="Travis CI is no longer used so we can delete the configuration files" \
  filename:.travis.yml</code></pre>
</div>
</div>
<div class="paragraph">
<p>Travis CI was once popular continuous integration server but many projects has migrated to GitHub Actions instead.</p>
</div>
</div>
<div class="sect4">
<h5 id="_full_syntax_3"><a class="anchor" href="#_full_syntax_3"></a>Full Syntax</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">Usage: pierrot delete [-aghPsV] [-b=&lt;branch&gt;] [--done-column=&lt;doneColumn&gt;]
                      [--github-token=&lt;token&gt;] [-m=&lt;message&gt;]
                      [--message-from=&lt;messageFrom&gt;]
                      [--progress-column=&lt;progressColumn&gt;]
                      [--project=&lt;project&gt;] [-t=&lt;title&gt;]
                      [--todo-column=&lt;todoColumn&gt;] QUERY...
creates PRs to delete files
      QUERY...              The search term such as 'org:agorapulse filename:
                              build.gradle'
  -a, --all                 Include archived and closed
  -b, --branch=&lt;branch&gt;     The pull request branch
      --done-column=&lt;doneColumn&gt;
                            The name of the 'Done' column in the project
  -g, --global              Do not constrain search to current organization
      --github-token=&lt;token&gt;
                            The GitHub token
  -h, --help                Show this help message and exit.
  -m, --message=&lt;message&gt;   The pull request message
      --message-from=&lt;messageFrom&gt;
                            The file containing the pull request message
  -P, --no-page             Do not wait after each result
      --progress-column=&lt;progressColumn&gt;
                            The name of the 'In progress' column in the project
      --project=&lt;project&gt;   The name of the project (board)
  -s, --stacktrace          Print stack traces
  -t, --title=&lt;title&gt;       The pull request title
      --todo-column=&lt;todoColumn&gt;
                            The name of the 'To do' column in the project
  -V, --version             Print version information and exit.</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_pull"><a class="anchor" href="#_pull"></a>3.2.4. Pull Command</h4>
<div class="paragraph">
<p>The <code>pull</code> command pulls the files from multiple repositories into a workspace. You can then make local changes and
use <code>push</code> command to create new pull requests for changes.</p>
</div>
<div class="paragraph">
<p>The workspace layout is in a format <code>organization/repository/files</code>:</p>
</div>
<div class="listingblock">
<div class="title">Workspace Layout Example</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">pierrot-workspace
└── myorg
    ├── repo1
    │   └── build.gradle
    └── repo2
        └── build.gradle</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_examples_4"><a class="anchor" href="#_examples_4"></a>Examples</h5>
<div class="listingblock">
<div class="title">Find All Usages of JCenter Repository within Gradle&#8217;s Build Files and Pull the Files Locally</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">pierrot pull extension:gradle jcenter</code></pre>
</div>
</div>
<div class="paragraph">
<p>JCenter has been shut down so if you still have a references in the build files then you should remove them.</p>
</div>
</div>
<div class="sect4">
<h5 id="_full_syntax_4"><a class="anchor" href="#_full_syntax_4"></a>Full Syntax</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">Usage: pierrot pull [-aghPsV] [--github-token=&lt;token&gt;] [-w=&lt;workspace&gt;] QUERY...
pulls the matching files locally
      QUERY...       The search term such as 'org:agorapulse filename:build.
                       gradle'
  -a, --all          Include archived and closed
  -g, --global       Do not constrain search to current organization
      --github-token=&lt;token&gt;
                     The GitHub token
  -h, --help         Show this help message and exit.
  -P, --no-page      Do not wait after each result
  -s, --stacktrace   Print stack traces
  -V, --version      Print version information and exit.
  -w, --workspace=&lt;workspace&gt;
                     The working directory to pull found files</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_push"><a class="anchor" href="#_push"></a>3.2.5. Push Command</h4>
<div class="paragraph">
<p>The <code>push</code> command creates new pull requests for changes performed in a local workspace.</p>
</div>
<div class="paragraph">
<p>The workspace layout is in a format <code>organization/repository/files</code>:</p>
</div>
<div class="listingblock">
<div class="title">Workspace Layout Example</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">pierrot-workspace
└── myorg
    ├── repo1
    │   └── build.gradle
    └── repo2
        └── build.gradle</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_examples_5"><a class="anchor" href="#_examples_5"></a>Examples</h5>
<div class="listingblock">
<div class="title">Push Local Changes to GitHub</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">pierrot push \
  --branch=chore/removed-jcenter \
  --title="Removed JCenter from the Gradle Files" \
  --message="JCenter has been shut down so we need to delete all references"</code></pre>
</div>
</div>
<div class="paragraph">
<p>JCenter has been shut down so if you still have a references in the build files then you should remove them.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">Usage: pierrot push [-hsV] [-b=&lt;branch&gt;] [--done-column=&lt;doneColumn&gt;]
                    [--github-token=&lt;token&gt;] [-m=&lt;message&gt;]
                    [--message-from=&lt;messageFrom&gt;]
                    [--progress-column=&lt;progressColumn&gt;] [--project=&lt;project&gt;]
                    [-t=&lt;title&gt;] [--todo-column=&lt;todoColumn&gt;] [-w=&lt;workspace&gt;]
pushes the the local changes and creates PRs
  -b, --branch=&lt;branch&gt;     The pull request branch
      --done-column=&lt;doneColumn&gt;
                            The name of the 'Done' column in the project
      --github-token=&lt;token&gt;
                            The GitHub token
  -h, --help                Show this help message and exit.
  -m, --message=&lt;message&gt;   The pull request message
      --message-from=&lt;messageFrom&gt;
                            The file containing the pull request message
      --progress-column=&lt;progressColumn&gt;
                            The name of the 'In progress' column in the project
      --project=&lt;project&gt;   The name of the project (board)
  -s, --stacktrace          Print stack traces
  -t, --title=&lt;title&gt;       The pull request title
      --todo-column=&lt;todoColumn&gt;
                            The name of the 'To do' column in the project
  -V, --version             Print version information and exit.
  -w, --workspace=&lt;workspace&gt;
                            The working directory to pull found files</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_replace"><a class="anchor" href="#_replace"></a>3.2.6. Replace Command</h4>
<div class="paragraph">
<p>The <code>replace</code> command allows you to find and replace text in the all files that match the given search query.</p>
</div>
<div class="paragraph">
<p>You need to specify Java-style pattern with the <code>--pattern</code> parameter and the replacement with <code>--replacement</code> parameter.</p>
</div>
<div class="paragraph">
<p>New pull request are created with a specified changes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">  -p, --pattern=&lt;pattern&gt;   The Java-style regular expression pattern to
                              execute on the matched files
  -r, --replacement=&lt;replacement&gt;
                            The Java-style regular expression replacement</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_examples_6"><a class="anchor" href="#_examples_6"></a>Examples</h5>
<div class="listingblock">
<div class="title">Update Micronaut Version</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">pierrot delete \
  --pattern='micronautVersion = (.*)' \
  --replacement='micronautVersion = 3.1.0' \
  --branch=chore/upgrade-micronaut \
  --title="Upgraded Micronaut to 3.1.0" \
  --message="Upgraded Micronaut to the latest version 3.1.0" \
  filename:gradle.properties micronautVersion</code></pre>
</div>
</div>
<div class="paragraph">
<p>Versions declared in <code>gradle.properties</code> files are not well handled by the tools like Snyk or Dependabot.</p>
</div>
</div>
<div class="sect4">
<h5 id="_full_syntax_5"><a class="anchor" href="#_full_syntax_5"></a>Full Syntax</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">Usage: pierrot replace [-aghPsV] [-b=&lt;branch&gt;] [--done-column=&lt;doneColumn&gt;]
                       [--github-token=&lt;token&gt;] [-m=&lt;message&gt;]
                       [--message-from=&lt;messageFrom&gt;] -p=&lt;pattern&gt;
                       [--progress-column=&lt;progressColumn&gt;]
                       [--project=&lt;project&gt;] -r=&lt;replacement&gt; [-t=&lt;title&gt;]
                       [--todo-column=&lt;todoColumn&gt;] QUERY...
replaces content in the files and creates PRs
      QUERY...              The search term such as 'org:agorapulse filename:
                              build.gradle'
  -a, --all                 Include archived and closed
  -b, --branch=&lt;branch&gt;     The pull request branch
      --done-column=&lt;doneColumn&gt;
                            The name of the 'Done' column in the project
  -g, --global              Do not constrain search to current organization
      --github-token=&lt;token&gt;
                            The GitHub token
  -h, --help                Show this help message and exit.
  -m, --message=&lt;message&gt;   The pull request message
      --message-from=&lt;messageFrom&gt;
                            The file containing the pull request message
  -p, --pattern=&lt;pattern&gt;   The Java-style regular expression pattern to
                              execute on the matched files
  -P, --no-page             Do not wait after each result
      --progress-column=&lt;progressColumn&gt;
                            The name of the 'In progress' column in the project
      --project=&lt;project&gt;   The name of the project (board)
  -r, --replacement=&lt;replacement&gt;
                            The Java-style regular expression replacement
  -s, --stacktrace          Print stack traces
  -t, --title=&lt;title&gt;       The pull request title
      --todo-column=&lt;todoColumn&gt;
                            The name of the 'To do' column in the project
  -V, --version             Print version information and exit.</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_status"><a class="anchor" href="#_status"></a>3.2.7. Status Command</h4>
<div class="paragraph">
<p>The <code>status</code> command allows search pull requests and display their status.</p>
</div>
<div class="sect4">
<h5 id="_examples_7"><a class="anchor" href="#_examples_7"></a>Examples</h5>
<div class="listingblock">
<div class="title">Display Update Micronaut Version Pull Requests and Assign Them to the Project</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">pierrot status \
  --all \
  --project='Micronaut Upgrade' \
  Micronaut Upgrade 3.1.0</code></pre>
</div>
</div>
<div class="paragraph">
<p>Adding to the project will allow displaying all the running PRs in a status board.</p>
</div>
</div>
<div class="sect4">
<h5 id="_full_syntax_6"><a class="anchor" href="#_full_syntax_6"></a>Full Syntax</h5>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">Usage: pierrot status [-aghPsV] [--done-column=&lt;doneColumn&gt;]
                      [--github-token=&lt;token&gt;]
                      [--progress-column=&lt;progressColumn&gt;]
                      [--project=&lt;project&gt;] [--todo-column=&lt;todoColumn&gt;]
                      QUERY...
searches GitHub Pull Requests and prints their statuses
      QUERY...              The search term such as 'org:agorapulse filename:
                              build.gradle'
  -a, --all                 Include archived and closed
      --done-column=&lt;doneColumn&gt;
                            The name of the 'Done' column in the project
  -g, --global              Do not constrain search to current organization
      --github-token=&lt;token&gt;
                            The GitHub token
  -h, --help                Show this help message and exit.
  -P, --no-page             Do not wait after each result
      --progress-column=&lt;progressColumn&gt;
                            The name of the 'In progress' column in the project
      --project=&lt;project&gt;   The name of the project (board)
  -s, --stacktrace          Print stack traces
      --todo-column=&lt;todoColumn&gt;
                            The name of the 'To do' column in the project
  -V, --version             Print version information and exit.</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.9.0<br>
Last updated 2021-11-05 10:36:31 UTC
</div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/run_prettify.min.js"></script>
</body>
</html>